<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <meta content="Docutils 0.19: https://docutils.sourceforge.io/" name="generator"/>
  <meta content="width=device-width,initial-scale=1" name="viewport"/>
  <meta content="ie=edge" http-equiv="x-ua-compatible"/>
  <meta content="Copy to clipboard" name="lang:clipboard.copy"/>
  <meta content="Copied to clipboard" name="lang:clipboard.copied"/>
  <meta content="en" name="lang:search.language"/>
  <meta content="True" name="lang:search.pipeline.stopwords"/>
  <meta content="True" name="lang:search.pipeline.trimmer"/>
  <meta content="No matching documents" name="lang:search.result.none"/>
  <meta content="1 matching document" name="lang:search.result.one"/>
  <meta content="# matching documents" name="lang:search.result.other"/>
  <meta content="[\s\-]+" name="lang:search.tokenizer"/>
  <link crossorigin="" href="https://fonts.gstatic.com/" rel="preconnect"/>
  <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700|Roboto:300,400,400i,700&amp;display=fallback" rel="stylesheet"/>
  <style>
   body,
      input {
        font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif
      }

      code,
      kbd,
      pre {
        font-family: "Roboto Mono", "Courier New", Courier, monospace
      }
  </style>
  <link crossorigin="anonymous" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg==" referrerpolicy="no-referrer" rel="stylesheet"/>
  <link href="../_static/stylesheets/application.css" rel="stylesheet"/>
  <link href="../_static/stylesheets/application-palette.css" rel="stylesheet"/>
  <link href="../_static/stylesheets/application-fixes.css" rel="stylesheet"/>
  <link href="../_static/fonts/material-icons.css" rel="stylesheet"/>
  <meta content="#282f38" name="theme-color"/>
  <script src="../_static/javascripts/modernizr.js">
  </script>
  <script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-XXXXX">
  </script>
  <script>
   window.dataLayer = window.dataLayer || [];

    function gtag() {
        dataLayer.push(arguments);
    }

    gtag('js', new Date());

    gtag('config', 'UA-XXXXX');
  </script>
  <link href="../_static/images/apple-icon-152x152.png" rel="apple-touch-icon"/>
  <title>
   Loading External Data
  </title>
  <link href="../_static/pygments.css" rel="stylesheet" type="text/css"/>
  <link href="../_static/material.css" rel="stylesheet" type="text/css"/>
  <link href="../_static/togglebutton.css" rel="stylesheet" type="text/css"/>
  <link href="../_static/copybutton.css" rel="stylesheet" type="text/css"/>
  <link href="../_static/custom.css" rel="stylesheet" type="text/css"/>
  <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js">
  </script>
  <script src="../_static/jquery.js">
  </script>
  <script src="../_static/underscore.js">
  </script>
  <script src="../_static/_sphinx_javascript_frameworks_compat.js">
  </script>
  <script src="../_static/doctools.js">
  </script>
  <script src="../_static/sphinx_highlight.js">
  </script>
  <script src="../_static/clipboard.min.js">
  </script>
  <script src="../_static/copybutton.js">
  </script>
  <script>
   let toggleHintShow = 'Click to show';
  </script>
  <script>
   let toggleHintHide = 'Click to hide';
  </script>
  <script>
   let toggleOpenOnPrint = 'true';
  </script>
  <script src="../_static/togglebutton.js">
  </script>
  <script>
   var togglebuttonSelector = '.toggle, .admonition.dropdown';
  </script>
  <script src="../_static/script.js">
  </script>
  <link href="../_static/favicon-32x32.png" rel="shortcut icon"/>
  <link href="../genindex.html" rel="index" title="Index"/>
  <link href="../search.html" rel="search" title="Search"/>
  <link href="../integrations/index.html" rel="next" title="Integrations"/>
  <link href="backtest_example.html" rel="prev" title="Complete Backtest Example"/>
  <link href="../_static/images/apple-icon-152x152.png" rel="apple-touch-icon"/>
 </head>
 <body data-md-color-accent="#282f38" data-md-color-primary="#282f38" dir="ltr">
  <svg class="md-svg">
   <defs data-children-count="0">
    <svg height="448" id="__github" viewbox="0 0 416 448" width="416" xmlns="http://www.w3.org/2000/svg">
     <path d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z" fill="currentColor">
     </path>
    </svg>
   </defs>
  </svg>
  <input class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
  <input class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
  <label class="md-overlay" data-md-component="overlay" for="__drawer">
  </label>
  <a class="md-skip" href="#guides/loading_external_data" tabindex="1">
   Skip to content
  </a>
  <header class="md-header" data-md-component="header">
   <nav class="md-header-nav md-grid">
    <div class="md-flex navheader">
     <div class="md-flex__cell md-flex__cell--shrink">
      <a class="md-header-nav__button md-logo" href="../index.html" title="">
       <img alt=" logo" height="26" src="../_static/nt-white.png"/>
      </a>
     </div>
     <div class="md-flex__cell md-flex__cell--shrink">
      <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer">
      </label>
     </div>
     <div class="md-flex__cell md-flex__cell--stretch">
      <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
       <span class="md-header-nav__topic">
       </span>
       <span class="md-header-nav__topic">
        Loading External Data
       </span>
      </div>
     </div>
     <div class="md-flex__cell md-flex__cell--shrink">
      <label class="md-icon md-icon--search md-header-nav__button" for="__search">
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
       <label class="md-search__overlay" for="__search">
       </label>
       <div class="md-search__inner" role="search">
        <form action="../search.html" class="md-search__form" method="get" name="search">
         <input autocapitalize="off" autocomplete="off" class="md-search__input" data-md-component="query" data-md-state="active" name="q" placeholder="Search" spellcheck="false" type="text"/>
         <label class="md-icon md-search__icon" for="__search">
         </label>
         <button class="md-icon md-search__icon" data-md-component="reset" tabindex="-1" type="reset">
          Óóç
         </button>
        </form>
        <div class="md-search__output">
         <div class="md-search__scrollwrap" data-md-scrollfix="">
          <div class="md-search-result" data-md-component="result">
           <div class="md-search-result__meta">
            Type to start searching
           </div>
           <ol class="md-search-result__list">
           </ol>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
     <div class="md-flex__cell md-flex__cell--shrink">
      <div class="md-header-nav__source">
       <a class="md-source" data-md-source="github" href="https://github.com/nautechsystems/nautilus_trader" title="Go to repository">
        <div class="md-source__icon test">
         <svg fill="#fff" viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg">
          <!--! Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.-->
          <path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z">
          </path>
         </svg>
        </div>
        <div class="md-source__repository">
         nautilus_trader
        </div>
       </a>
      </div>
     </div>
     <script src="../_static/javascripts/version_dropdown.js">
     </script>
     <script>
      var json_loc = "../_static/version.json",
        target_loc = "../../",
        text = "Versions";
    $( document ).ready( add_version_dropdown(json_loc, target_loc, text));
     </script>
    </div>
   </nav>
  </header>
  <div class="md-container">
   <div class="md-hero" data-md-component="hero">
    <div class="md-hero__inner md-grid">
    </div>
   </div>
   <nav class="md-tabs" data-md-component="tabs">
    <div class="md-tabs__inner md-grid">
     <ul class="md-tabs__list">
      <li class="md-tabs__item">
       <a class="md-tabs__link" href="/getting_started/index.html">
        Getting Started
       </a>
      </li>
      <li class="md-tabs__item">
       <a class="md-tabs__link" href="/user_guide/index.html">
        User Guide
       </a>
      </li>
      <li class="md-tabs__item">
       <a class="md-tabs__link" href="/api_reference/index.html">
        API Reference
       </a>
      </li>
      <li class="md-tabs__item">
       <a class="md-tabs__link" href="/integrations/index.html">
        Integrations
       </a>
      </li>
      <li class="md-tabs__item">
       <a class="md-tabs__link" href="/developer_guide/index.html">
        Developer Guide
       </a>
      </li>
      <li class="md-tabs__item">
       <a class="md-tabs__link" href="https://github.com/nautechsystems/nautilus_trader/releases">
        Releases ‚¨Ä
       </a>
      </li>
      <li class="md-tabs__item">
       <a class="md-tabs__link" href="https://nautilustrader.io/">
        nautilustrader.io ‚¨Ä
       </a>
      </li>
      <li class="md-tabs__item">
       <a class="md-tabs__link" href="index.html">
        Guides
       </a>
      </li>
     </ul>
    </div>
   </nav>
   <main class="md-main">
    <div class="md-main__inner md-grid" data-md-component="container">
     <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
      <div class="md-sidebar__scrollwrap">
       <div class="md-sidebar__inner">
        <nav class="md-nav md-nav--primary" data-md-level="0">
         <label class="md-nav__title md-nav__title--site" for="__drawer">
          <a class="md-nav__button md-logo" href="../index.html" title="">
           <img alt=" logo" height="48" src="../_static/nt-white.png" width="48"/>
          </a>
          <a href="../index.html" title="">
          </a>
         </label>
         <div class="md-nav__source">
          <a class="md-source" data-md-source="github" href="https://github.com/nautechsystems/nautilus_trader" title="Go to repository">
           <div class="md-source__icon test">
            <svg fill="#fff" viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg">
             <!--! Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.-->
             <path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z">
             </path>
            </svg>
           </div>
           <div class="md-source__repository">
            nautilus_trader
           </div>
          </a>
         </div>
         <div id="menu">
          <ul class="md-nav__list">
           <li class="md-nav__item">
            <a class="md-nav__link" href="../getting_started/index.html">
             Getting Started
            </a>
            <span class="arrow">
             <i class="fa-solid fa-chevron-right">
             </i>
            </span>
            <ul class="submenu">
             <li class="md-nav__item">
              <a class="md-nav__link" href="../getting_started/installation.html">
               Installation
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../getting_started/quick_start.html">
               Quick Start
              </a>
             </li>
            </ul>
           </li>
           <li class="md-nav__item">
            <a class="md-nav__link" href="../concepts/index.html">
             Concepts
            </a>
            <span class="arrow">
             <i class="fa-solid fa-chevron-right">
             </i>
            </span>
            <ul class="submenu">
             <li class="md-nav__item">
              <a class="md-nav__link" href="../concepts/architecture.html">
               Architecture
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../concepts/strategies.html">
               Strategies
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../concepts/instruments.html">
               Instruments
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../concepts/adapters.html">
               Adapters
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../concepts/orders.html">
               Orders
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../concepts/execution.html">
               Execution
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../concepts/logging.html">
               Logging
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../concepts/advanced/index.html">
               Advanced
              </a>
              <span class="arrow">
               <i class="fa-solid fa-chevron-right">
               </i>
              </span>
              <ul class="submenu">
               <li class="md-nav__item">
                <a class="md-nav__link" href="../concepts/advanced/data.html">
                 Data
                </a>
               </li>
               <li class="md-nav__item">
                <a class="md-nav__link" href="../concepts/advanced/advanced_orders.html">
                 Advanced Orders
                </a>
               </li>
               <li class="md-nav__item">
                <a class="md-nav__link" href="../concepts/advanced/emulated_orders.html">
                 Emulated Orders
                </a>
               </li>
               <li class="md-nav__item">
                <a class="md-nav__link" href="../concepts/advanced/synthetic_instruments.html">
                 Synthetic instruments
                </a>
               </li>
               <li class="md-nav__item">
                <a class="md-nav__link" href="../concepts/advanced/portfolio_statistics.html">
                 Portfolio Statistics
                </a>
               </li>
              </ul>
             </li>
            </ul>
           </li>
           <li class="md-nav__item">
            <a class="md-nav__link" href="index.html">
             Guides
            </a>
            <span class="arrow">
             <i class="fa-solid fa-chevron-right">
             </i>
            </span>
            <ul class="submenu">
             <li class="md-nav__item">
              <a class="md-nav__link" href="backtest_example.html">
               Complete Backtest Example
              </a>
             </li>
             <li class="md-nav__item md-nav__link--active">
              <a class="md-nav__link" href="#">
               Loading External Data
              </a>
             </li>
            </ul>
           </li>
           <li class="md-nav__item">
            <a class="md-nav__link" href="../integrations/index.html">
             Integrations
            </a>
            <span class="arrow">
             <i class="fa-solid fa-chevron-right">
             </i>
            </span>
            <ul class="submenu">
             <li class="md-nav__item">
              <a class="md-nav__link" href="../integrations/betfair.html">
               Betfair
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../integrations/binance.html">
               Binance
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../integrations/ib.html">
               Interactive Brokers
              </a>
             </li>
            </ul>
           </li>
           <li class="md-nav__item">
            <a class="md-nav__link" href="../api_reference/index.html">
             API Reference
            </a>
            <span class="arrow">
             <i class="fa-solid fa-chevron-right">
             </i>
            </span>
            <ul class="submenu">
             <li class="md-nav__item">
              <a class="md-nav__link" href="../api_reference/accounting.html">
               Accounting
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../api_reference/adapters/index.html">
               Adapters
              </a>
              <span class="arrow">
               <i class="fa-solid fa-chevron-right">
               </i>
              </span>
              <ul class="submenu">
               <li class="md-nav__item">
                <a class="md-nav__link" href="../api_reference/adapters/betfair.html">
                 Betfair
                </a>
               </li>
               <li class="md-nav__item">
                <a class="md-nav__link" href="../api_reference/adapters/binance.html">
                 Binance
                </a>
               </li>
               <li class="md-nav__item">
                <a class="md-nav__link" href="../api_reference/adapters/interactive_brokers.html">
                 Interactive Brokers
                </a>
               </li>
              </ul>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../api_reference/analysis.html">
               Analysis
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../api_reference/backtest.html">
               Backtest
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../api_reference/cache.html">
               Cache
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../api_reference/common.html">
               Common
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../api_reference/config.html">
               Config
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../api_reference/core.html">
               Core
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../api_reference/data.html">
               Data
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../api_reference/execution.html">
               Execution
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../api_reference/indicators.html">
               Indicators
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../api_reference/infrastructure.html">
               Infrastructure
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../api_reference/live.html">
               Live
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../api_reference/model/index.html">
               Model
              </a>
              <span class="arrow">
               <i class="fa-solid fa-chevron-right">
               </i>
              </span>
              <ul class="submenu">
               <li class="md-nav__item">
                <a class="md-nav__link" href="../api_reference/model/currency.html">
                 Currency
                </a>
               </li>
               <li class="md-nav__item">
                <a class="md-nav__link" href="../api_reference/model/data.html">
                 Data
                </a>
               </li>
               <li class="md-nav__item">
                <a class="md-nav__link" href="../api_reference/model/events.html">
                 Events
                </a>
               </li>
               <li class="md-nav__item">
                <a class="md-nav__link" href="../api_reference/model/identifiers.html">
                 Identifiers
                </a>
               </li>
               <li class="md-nav__item">
                <a class="md-nav__link" href="../api_reference/model/instruments.html">
                 Instruments
                </a>
               </li>
               <li class="md-nav__item">
                <a class="md-nav__link" href="../api_reference/model/objects.html">
                 Objects
                </a>
               </li>
               <li class="md-nav__item">
                <a class="md-nav__link" href="../api_reference/model/orderbook.html">
                 Order Book
                </a>
               </li>
               <li class="md-nav__item">
                <a class="md-nav__link" href="../api_reference/model/orders.html">
                 Orders
                </a>
               </li>
               <li class="md-nav__item">
                <a class="md-nav__link" href="../api_reference/model/position.html">
                 Position
                </a>
               </li>
               <li class="md-nav__item">
                <a class="md-nav__link" href="../api_reference/model/tick_scheme.html">
                 Tick Scheme
                </a>
               </li>
              </ul>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../api_reference/msgbus.html">
               Message Bus
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../api_reference/persistence.html">
               Persistence
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../api_reference/portfolio.html">
               Portfolio
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../api_reference/risk.html">
               Risk
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../api_reference/serialization.html">
               Serialization
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../api_reference/system.html">
               System
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../api_reference/trading.html">
               Trading
              </a>
             </li>
            </ul>
           </li>
           <li class="md-nav__item">
            <a class="md-nav__link" href="../developer_guide/index.html">
             Developer Guide
            </a>
            <span class="arrow">
             <i class="fa-solid fa-chevron-right">
             </i>
            </span>
            <ul class="submenu">
             <li class="md-nav__item">
              <a class="md-nav__link" href="../developer_guide/environment_setup.html">
               Environment Setup
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../developer_guide/coding_standards.html">
               Coding Standards
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../developer_guide/cython.html">
               Cython
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../developer_guide/rust.html">
               Rust
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../developer_guide/testing.html">
               Testing
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../developer_guide/packaged_data.html">
               Packaged Data
              </a>
             </li>
            </ul>
           </li>
          </ul>
         </div>
        </nav>
       </div>
      </div>
     </div>
     <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
      <div class="md-sidebar__scrollwrap">
       <div class="md-sidebar__inner">
        <nav class="md-nav md-nav--secondary">
         <label class="md-nav__title" for="__toc">
          Contents
         </label>
         <ul class="md-nav__list" data-md-scrollfix="">
          <li class="md-nav__item">
           <a class="md-nav__link" href="#guides-loading-external-data--page-root">
            Loading External Data
           </a>
           <span class="arrow">
            <i class="fa-solid fa-chevron-right">
            </i>
           </span>
           <ul class="submenu">
            <li class="md-nav__item">
             <a class="md-nav__link" href="#the-datacatalog">
              The DataCatalog
             </a>
             <span class="arrow">
              <i class="fa-solid fa-chevron-right">
              </i>
             </span>
             <ul class="submenu">
              <li class="md-nav__item">
               <a class="md-nav__link" href="#getting-some-sample-raw-data">
                Getting some sample raw data
               </a>
              </li>
              <li class="md-nav__item">
               <a class="md-nav__link" href="#loading-data-via-reader-classes">
                Loading data via Reader classes
               </a>
              </li>
              <li class="md-nav__item">
               <a class="md-nav__link" href="#writing-the-parser-function">
                Writing the parser function
               </a>
              </li>
              <li class="md-nav__item">
               <a class="md-nav__link" href="#creating-a-new-datacatalog">
                Creating a new DataCatalog
               </a>
              </li>
              <li class="md-nav__item">
               <a class="md-nav__link" href="#instruments">
                Instruments
               </a>
              </li>
              <li class="md-nav__item">
               <a class="md-nav__link" href="#loading-the-files">
                Loading the files
               </a>
              </li>
             </ul>
            </li>
            <li class="md-nav__item">
             <a class="md-nav__link" href="#using-the-parquetdatacatalog">
              Using the ParquetDataCatalog
             </a>
            </li>
           </ul>
          </li>
         </ul>
        </nav>
       </div>
      </div>
     </div>
     <div class="md-content">
      <article class="md-content__inner md-typeset" role="main">
       <section class="tex2jax_ignore mathjax_ignore" id="loading-external-data">
        <h1 id="guides-loading-external-data--page-root">
         Loading External Data
         <a class="headerlink" href="#guides-loading-external-data--page-root" title="Permalink to this heading">
          ¬∂
         </a>
        </h1>
        <p>
         This notebook runs through an example of loading raw data (external to Nautilus) into the NautilusTrader
         <code class="docutils literal notranslate">
          <span class="pre">
           ParquetDataCatalog
          </span>
         </code>
         , for use in backtesting.
        </p>
        <section id="the-datacatalog">
         <h2 id="the-datacatalog">
          The DataCatalog
          <a class="headerlink" href="#the-datacatalog" title="Permalink to this heading">
           ¬∂
          </a>
         </h2>
         <p>
          The data catalog is a central store for Nautilus data, persisted in the
          <a class="reference external" href="https://parquet.apache.org">
           Parquet
          </a>
          file format.
         </p>
         <p>
          We have chosen parquet as the storage format for the following reasons:
         </p>
         <ul class="simple">
          <li>
           <p>
            It performs much better than CSV/JSON/HDF5/etc in terms of compression ratio (storage size) and read performance
           </p>
          </li>
          <li>
           <p>
            It does not require any separately running components (for example a database)
           </p>
          </li>
          <li>
           <p>
            It is quick and simple to get up and running with
           </p>
          </li>
         </ul>
         <section id="getting-some-sample-raw-data">
          <h3 id="getting-some-sample-raw-data">
           Getting some sample raw data
           <a class="headerlink" href="#getting-some-sample-raw-data" title="Permalink to this heading">
            ¬∂
           </a>
          </h3>
          <p>
           Before we start the notebook - as a once off we need to download some sample data for loading.
          </p>
          <p>
           For this notebook we will use FX data from
           <code class="docutils literal notranslate">
            <span class="pre">
             histdata.com
            </span>
           </code>
           , simply go to
           <a class="reference external" href="https://www.histdata.com/download-free-forex-historical-data/?/ascii/tick-data-quotes/">
            https://www.histdata.com/download-free-forex-historical-data/?/ascii/tick-data-quotes/
           </a>
           and select a Forex pair and one or more months of data to download.
          </p>
          <p>
           Once you have downloaded the data, set the variable
           <code class="docutils literal notranslate">
            <span class="pre">
             input_files
            </span>
           </code>
           below to the path containing the
data. You can also use a glob to select multiple files, for example
           <code class="docutils literal notranslate">
            <span class="pre">
             "~/Downloads/HISTDATA_COM_ASCII_AUDUSD_*.zip"
            </span>
           </code>
           .
          </p>
          <div class="highlight-python notranslate">
           <div class="highlight">
            <pre><span></span><span class="kn">import</span> <span class="nn">fsspec</span>
<span class="n">fs</span> <span class="o">=</span> <span class="n">fsspec</span><span class="o">.</span><span class="n">filesystem</span><span class="p">(</span><span class="s2">"file"</span><span class="p">)</span>

<span class="n">input_files</span> <span class="o">=</span> <span class="s2">"~/Downloads/HISTDATA_COM_ASCII_AUDUSD_T202001.zip"</span>
</pre>
           </div>
          </div>
          <p>
           Run the cell below; you should see the files that you downloaded:
          </p>
          <div class="highlight-python notranslate">
           <div class="highlight">
            <pre><span></span><span class="c1"># Simple check that the file path is correct</span>
<span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">fs</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="n">input_files</span><span class="p">)),</span> <span class="sa">f</span><span class="s2">"Could not find files with </span><span class="si">{</span><span class="n">input_files</span><span class="si">=}</span><span class="s2">"</span>
</pre>
           </div>
          </div>
         </section>
         <section id="loading-data-via-reader-classes">
          <h3 id="loading-data-via-reader-classes">
           Loading data via Reader classes
           <a class="headerlink" href="#loading-data-via-reader-classes" title="Permalink to this heading">
            ¬∂
           </a>
          </h3>
          <p>
           We can load data from various sources into the data catalog using helper methods in the
           <code class="docutils literal notranslate">
            <span class="pre">
             nautilus_trader.persistence.external.readers
            </span>
           </code>
           module. The module contains methods for reading
various data formats (CSV, JSON, text), minimising the amount of code required to get data loaded
correctly into the data catalog.
          </p>
          <p>
           There are a handful of readers available, some notes on when to use which:
          </p>
          <ul class="simple">
           <li>
            <p>
             <code class="docutils literal notranslate">
              <span class="pre">
               CSVReader
              </span>
             </code>
             - use when your data is CSV (comma separated values) and has a header row. Each row of the data typically is one ‚Äúentry‚Äù and is linked to the header.
            </p>
           </li>
           <li>
            <p>
             <code class="docutils literal notranslate">
              <span class="pre">
               TextReader
              </span>
             </code>
             - similar to CSVReader, however used when data may container multiple ‚Äòentries‚Äô per line. For example, JSON data with multiple order book or trade ticks in a single line. This data typically does not have a header row, and field names come from some external definition.
            </p>
           </li>
           <li>
            <p>
             <code class="docutils literal notranslate">
              <span class="pre">
               ParquetReader
              </span>
             </code>
             - for parquet files, will read chunks of the data and process similar to
             <code class="docutils literal notranslate">
              <span class="pre">
               CSVReader
              </span>
             </code>
             .
            </p>
           </li>
          </ul>
          <p>
           Each of the
           <code class="docutils literal notranslate">
            <span class="pre">
             Reader
            </span>
           </code>
           classes takes a
           <code class="docutils literal notranslate">
            <span class="pre">
             line_parser
            </span>
           </code>
           or
           <code class="docutils literal notranslate">
            <span class="pre">
             block_parser
            </span>
           </code>
           function, a user defined function to convert a line or block (chunk / multiple rows) of data into Nautilus object(s) (for example
           <code class="docutils literal notranslate">
            <span class="pre">
             QuoteTick
            </span>
           </code>
           or
           <code class="docutils literal notranslate">
            <span class="pre">
             TradeTick
            </span>
           </code>
           ).
          </p>
         </section>
         <section id="writing-the-parser-function">
          <h3 id="writing-the-parser-function">
           Writing the parser function
           <a class="headerlink" href="#writing-the-parser-function" title="Permalink to this heading">
            ¬∂
           </a>
          </h3>
          <p>
           The FX data from
           <code class="docutils literal notranslate">
            <span class="pre">
             histdata
            </span>
           </code>
           is stored in CSV (plain text) format, with fields
           <code class="docutils literal notranslate">
            <span class="pre">
             timestamp,
            </span>
            <span class="pre">
             bid_price,
            </span>
            <span class="pre">
             ask_price
            </span>
           </code>
           .
          </p>
          <p>
           For this example, we will use the
           <code class="docutils literal notranslate">
            <span class="pre">
             CSVReader
            </span>
           </code>
           class, where we need to manually pass a header (as the files do not contain one). The
           <code class="docutils literal notranslate">
            <span class="pre">
             CSVReader
            </span>
           </code>
           has a couple of options, we‚Äôll be setting
           <code class="docutils literal notranslate">
            <span class="pre">
             chunked=False
            </span>
           </code>
           to process the data line-by-line, and
           <code class="docutils literal notranslate">
            <span class="pre">
             as_dataframe=False
            </span>
           </code>
           to process the data as a string rather than DataFrame. See the
           <a class="reference internal" href="../api_reference/persistence.html">
            <span class="doc std std-doc">
             API Reference
            </span>
           </a>
           for more details.
          </p>
          <div class="highlight-python notranslate">
           <div class="highlight">
            <pre><span></span><span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">nautilus_trader.model.data</span> <span class="kn">import</span> <span class="n">QuoteTick</span>
<span class="kn">from</span> <span class="nn">nautilus_trader.model.objects</span> <span class="kn">import</span> <span class="n">Price</span><span class="p">,</span> <span class="n">Quantity</span>
<span class="kn">from</span> <span class="nn">nautilus_trader.core.datetime</span> <span class="kn">import</span> <span class="n">dt_to_unix_nanos</span>

<span class="k">def</span> <span class="nf">parser</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">instrument_id</span><span class="p">):</span>
<span class="w">    </span><span class="sd">""" Parser function for hist_data FX data, for use with CSV Reader """</span>
    <span class="n">dt</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">'timestamp'</span><span class="p">]</span><span class="o">.</span><span class="n">decode</span><span class="p">(),</span> <span class="s2">"%Y%m</span><span class="si">%d</span><span class="s2"> %H%M%S</span><span class="si">%f</span><span class="s2">"</span><span class="p">),</span> <span class="n">tz</span><span class="o">=</span><span class="s1">'UTC'</span><span class="p">)</span>
    <span class="k">yield</span> <span class="n">QuoteTick</span><span class="p">(</span>
        <span class="n">instrument_id</span><span class="o">=</span><span class="n">instrument_id</span><span class="p">,</span>
        <span class="n">bid</span><span class="o">=</span><span class="n">Price</span><span class="o">.</span><span class="n">from_str</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">'bid'</span><span class="p">]</span><span class="o">.</span><span class="n">decode</span><span class="p">()),</span>
        <span class="n">ask</span><span class="o">=</span><span class="n">Price</span><span class="o">.</span><span class="n">from_str</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">'ask'</span><span class="p">]</span><span class="o">.</span><span class="n">decode</span><span class="p">()),</span>
        <span class="n">bid_size</span><span class="o">=</span><span class="n">Quantity</span><span class="o">.</span><span class="n">from_int</span><span class="p">(</span><span class="mi">100_000</span><span class="p">),</span>
        <span class="n">ask_size</span><span class="o">=</span><span class="n">Quantity</span><span class="o">.</span><span class="n">from_int</span><span class="p">(</span><span class="mi">100_000</span><span class="p">),</span>
        <span class="n">ts_event</span><span class="o">=</span><span class="n">dt_to_unix_nanos</span><span class="p">(</span><span class="n">dt</span><span class="p">),</span>
        <span class="n">ts_init</span><span class="o">=</span><span class="n">dt_to_unix_nanos</span><span class="p">(</span><span class="n">dt</span><span class="p">),</span>
    <span class="p">)</span>
</pre>
           </div>
          </div>
         </section>
         <section id="creating-a-new-datacatalog">
          <h3 id="creating-a-new-datacatalog">
           Creating a new DataCatalog
           <a class="headerlink" href="#creating-a-new-datacatalog" title="Permalink to this heading">
            ¬∂
           </a>
          </h3>
          <p>
           If a
           <code class="docutils literal notranslate">
            <span class="pre">
             ParquetDataCatalog
            </span>
           </code>
           does not already exist, we can easily create one.
Now that we have our parser function, we instantiate a
           <code class="docutils literal notranslate">
            <span class="pre">
             ParquetDataCatalog
            </span>
           </code>
           (passing in a directory where to store the data, by default we will just use the current directory):
          </p>
          <div class="highlight-python notranslate">
           <div class="highlight">
            <pre><span></span><span class="kn">import</span> <span class="nn">os</span><span class="o">,</span> <span class="nn">shutil</span>
<span class="n">CATALOG_PATH</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span> <span class="o">+</span> <span class="s2">"/catalog"</span>

<span class="c1"># Clear if it already exists, then create fresh</span>
<span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">CATALOG_PATH</span><span class="p">):</span>
    <span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">CATALOG_PATH</span><span class="p">)</span>
<span class="n">os</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">CATALOG_PATH</span><span class="p">)</span>
</pre>
           </div>
          </div>
          <div class="highlight-python notranslate">
           <div class="highlight">
            <pre><span></span><span class="c1"># Create an instance of the ParquetDataCatalog</span>
<span class="kn">from</span> <span class="nn">nautilus_trader.persistence.catalog</span> <span class="kn">import</span> <span class="n">ParquetDataCatalog</span>
<span class="n">catalog</span> <span class="o">=</span> <span class="n">ParquetDataCatalog</span><span class="p">(</span><span class="n">CATALOG_PATH</span><span class="p">)</span>
</pre>
           </div>
          </div>
         </section>
         <section id="instruments">
          <h3 id="instruments">
           Instruments
           <a class="headerlink" href="#instruments" title="Permalink to this heading">
            ¬∂
           </a>
          </h3>
          <p>
           Nautilus needs to link market data to an instrument ID, and an instrument ID to an
           <code class="docutils literal notranslate">
            <span class="pre">
             Instrument
            </span>
           </code>
           definition. This can be done at any time, although typically it makes sense when you are loading
market data into the catalog.
          </p>
          <p>
           For our example, Nautilus contains some helpers for creating FX pairs, which we will use. If
however, you were adding data for financial or crypto markets, you would need to create (and add to
the catalog) an instrument corresponding to that instrument ID. Definitions for other
instruments (of various asset classes) can be found in
           <code class="docutils literal notranslate">
            <span class="pre">
             nautilus_trader.model.instruments
            </span>
           </code>
           .
          </p>
          <p>
           See
           <a class="reference internal" href="../concepts/instruments.html">
            <span class="doc std std-doc">
             Instruments
            </span>
           </a>
           for more details on creating other instruments.
          </p>
          <div class="highlight-python notranslate">
           <div class="highlight">
            <pre><span></span><span class="kn">from</span> <span class="nn">nautilus_trader.persistence.external.core</span> <span class="kn">import</span> <span class="n">process_files</span><span class="p">,</span> <span class="n">write_objects</span>
<span class="kn">from</span> <span class="nn">nautilus_trader.test_kit.providers</span> <span class="kn">import</span> <span class="n">TestInstrumentProvider</span>

<span class="c1"># Use nautilus test helpers to create a EUR/USD FX instrument for our purposes</span>
<span class="n">instrument</span> <span class="o">=</span> <span class="n">TestInstrumentProvider</span><span class="o">.</span><span class="n">default_fx_ccy</span><span class="p">(</span><span class="s2">"EUR/USD"</span><span class="p">)</span>
</pre>
           </div>
          </div>
          <p>
           We can now add our new instrument to the
           <code class="docutils literal notranslate">
            <span class="pre">
             ParquetDataCatalog
            </span>
           </code>
           :
          </p>
          <div class="highlight-python notranslate">
           <div class="highlight">
            <pre><span></span><span class="kn">from</span> <span class="nn">nautilus_trader.persistence.external.core</span> <span class="kn">import</span> <span class="n">write_objects</span>

<span class="n">write_objects</span><span class="p">(</span><span class="n">catalog</span><span class="p">,</span> <span class="p">[</span><span class="n">instrument</span><span class="p">])</span>
</pre>
           </div>
          </div>
          <p>
           And check its existence:
          </p>
          <div class="highlight-python notranslate">
           <div class="highlight">
            <pre><span></span><span class="n">catalog</span><span class="o">.</span><span class="n">instruments</span><span class="p">()</span>
</pre>
           </div>
          </div>
          <!-- #region -->
         </section>
         <section id="loading-the-files">
          <h3 id="loading-the-files">
           Loading the files
           <a class="headerlink" href="#loading-the-files" title="Permalink to this heading">
            ¬∂
           </a>
          </h3>
          <p>
           One final note: our parsing function takes an
           <code class="docutils literal notranslate">
            <span class="pre">
             instrument_id
            </span>
           </code>
           argument, as in our case with
hist_data, however the actual file does not contain information about the instrument, only the file name
does. In our instance, we would likely need to split our loading per FX pair, so we can determine
which instrument we are loading. We will use a simple lambda function to pass our instrument ID to
the parsing function.
          </p>
          <p>
           We can now use the
           <code class="docutils literal notranslate">
            <span class="pre">
             process_files
            </span>
           </code>
           function to load one or more files using our
           <code class="docutils literal notranslate">
            <span class="pre">
             Reader
            </span>
           </code>
           class and
           <code class="docutils literal notranslate">
            <span class="pre">
             parsing
            </span>
           </code>
           function as shown below. This function will loop over many files, as well as breaking up
large files into chunks (protecting us from out of memory errors when reading large files) and save
the results to the
           <code class="docutils literal notranslate">
            <span class="pre">
             ParquetDataCatalog
            </span>
           </code>
           .
          </p>
          <p>
           For the hist_data, it should take less than a minute or two to load each FX file (a progress bar
will appear below):
          </p>
          <!-- #endregion -->
          <div class="highlight-python notranslate">
           <div class="highlight">
            <pre><span></span><span class="kn">from</span> <span class="nn">nautilus_trader.persistence.external.core</span> <span class="kn">import</span> <span class="n">process_files</span>
<span class="kn">from</span> <span class="nn">nautilus_trader.persistence.external.readers</span> <span class="kn">import</span> <span class="n">CSVReader</span>


<span class="n">process_files</span><span class="p">(</span>
    <span class="n">glob_path</span><span class="o">=</span><span class="n">input_files</span><span class="p">,</span>
    <span class="n">reader</span><span class="o">=</span><span class="n">CSVReader</span><span class="p">(</span>
        <span class="n">block_parser</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">parser</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">instrument_id</span><span class="o">=</span><span class="n">instrument</span><span class="o">.</span><span class="n">id</span><span class="p">),</span> 
        <span class="n">header</span><span class="o">=</span><span class="p">[</span><span class="s1">'timestamp'</span><span class="p">,</span> <span class="s1">'bid'</span><span class="p">,</span> <span class="s1">'ask'</span><span class="p">,</span> <span class="s1">'volume'</span><span class="p">],</span>
        <span class="n">chunked</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> 
        <span class="n">as_dataframe</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">),</span>
    <span class="n">catalog</span><span class="o">=</span><span class="n">catalog</span><span class="p">,</span>
<span class="p">)</span>
</pre>
           </div>
          </div>
         </section>
        </section>
        <section id="using-the-parquetdatacatalog">
         <h2 id="using-the-parquetdatacatalog">
          Using the ParquetDataCatalog
          <a class="headerlink" href="#using-the-parquetdatacatalog" title="Permalink to this heading">
           ¬∂
          </a>
         </h2>
         <p>
          Once data has been loaded into the catalog, the
          <code class="docutils literal notranslate">
           <span class="pre">
            catalog
           </span>
          </code>
          instance can be used for loading data into
the backtest engine, or simple for research purposes. It contains various methods to pull data from
the catalog, such as
          <code class="docutils literal notranslate">
           <span class="pre">
            quote_ticks
           </span>
          </code>
          , for example:
         </p>
         <div class="highlight-python notranslate">
          <div class="highlight">
           <pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">nautilus_trader.core.datetime</span> <span class="kn">import</span> <span class="n">dt_to_unix_nanos</span>

<span class="n">start</span> <span class="o">=</span> <span class="n">dt_to_unix_nanos</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="s2">"2020-01-01"</span><span class="p">,</span> <span class="n">tz</span><span class="o">=</span><span class="s2">"UTC"</span><span class="p">))</span>
<span class="n">end</span> <span class="o">=</span>  <span class="n">dt_to_unix_nanos</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="s2">"2020-01-02"</span><span class="p">,</span> <span class="n">tz</span><span class="o">=</span><span class="s2">"UTC"</span><span class="p">))</span>

<span class="n">catalog</span><span class="o">.</span><span class="n">quote_ticks</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="n">end</span><span class="p">)</span>
</pre>
          </div>
         </div>
         <p>
          Finally, clean up the catalog
         </p>
         <div class="highlight-python notranslate">
          <div class="highlight">
           <pre><span></span><span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">CATALOG_PATH</span><span class="p">):</span>
    <span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">CATALOG_PATH</span><span class="p">)</span>
</pre>
          </div>
         </div>
        </section>
       </section>
      </article>
     </div>
    </div>
   </main>
  </div>
  <footer class="md-footer">
   <div class="md-footer-nav">
    <nav class="md-footer-nav__inner md-grid">
     <a class="md-flex md-footer-nav__link md-footer-nav__link--prev" href="backtest_example.html" rel="prev" title="Complete Backtest Example">
      <div class="md-flex__cell md-flex__cell--shrink">
       <i class="md-icon md-icon--arrow-back md-footer-nav__button">
       </i>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
       <span class="md-flex__ellipsis">
        <span class="md-footer-nav__direction">
         Previous
        </span>
        Complete Backtest Example
       </span>
      </div>
     </a>
     <a class="md-flex md-footer-nav__link md-footer-nav__link--next" href="../integrations/index.html" rel="next" title="Integrations">
      <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
       <span class="md-flex__ellipsis">
        <span class="md-footer-nav__direction">
         Next
        </span>
        Integrations
       </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
       <i class="md-icon md-icon--arrow-forward md-footer-nav__button">
       </i>
      </div>
     </a>
    </nav>
   </div>
   <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
     <div class="md-footer-copyright">
      <div class="md-footer-copyright__highlight">
       ¬© Copyright 2015-2023 Nautech Systems Pty Ltd.
      </div>
     </div>
    </div>
   </div>
  </footer>
  <script crossorigin="anonymous" integrity="sha512-yFjZbTYRCJodnuyGlsKamNE/LlEaEAxSUDe5+u61mV8zzqJVFOH7TnULE2/PP/l5vKWpUNnF4VGVkXh3MjgLsg==" referrerpolicy="no-referrer" src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/js/all.min.js">
  </script>
  <script src="../_static/javascripts/application.js">
  </script>
  <script>
   app.initialize({version: "1.0.4", url: {base: ".."}})
  </script>
 </body>
</html>
